{{ require_css(get_asset_url('../../upcoming-events.css')) }}
{{ require_js(get_asset_url('../../upcoming-events.js'), 'footer') }}

{%- macro outputColorIfSet(property, color) -%}
  {%- if color.color -%}
    {{property}}: rgba({{color.color|convert_rgb}}, {{color.opacity/100}});
  {%- endif -%}
{%- endmacro -%}

<div class="upcoming-events">
  {% require_css %}
  <style>
    #hs_cos_wrapper_{{ name }} .upcoming-events {
      {{outputColorIfSet('background-color', module.background_color)}}
      {{outputColorIfSet('color', module.text_color)}}
    }

    #hs_cos_wrapper_{{ name }} .event-card {
      {{outputColorIfSet('background-color', module.event_card_color)}};
    }

    #hs_cos_wrapper_{{ name }} .event-card__title {
      {{outputColorIfSet('color', module.event_title_color)}};
    }

    #hs_cos_wrapper_{{ name }} .event-header {
      {{outputColorIfSet('color', module.title_color)}};
    }
  </style>
  {% end_require_css %}
  <h2 class="event-header">Upcoming Events</h2>
  <div id="upcoming-events__module" data-portal-id="{{ portal_id }}"></div>
</div>
